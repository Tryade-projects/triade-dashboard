import React, { useState, useEffect } from "react";
import { NavLink, useLocation } from "react-router-dom";
import Logo from "../../assets/logo.svg";
import PowerOff from "../../assets/power-off.png";

const colorPurple = "#4d44b5";
const colorGray2 = "#c1bbeb";

const Sidebar = () => {
  const location = useLocation();

  const [activeLink, setActiveLink] = useState("");

  useEffect(() => {
    setActiveLink(location.pathname);
  }, [location]);

  return (
    <aside className="sidebar">
      <div className="sidebarHeader">
        <img src={Logo} alt="Logo" />
        <p>Entreprise</p>
      </div>

      <div className="sidebarMenu">
        <NavLink to="/home" className="sidebarLink">
          <svg
            width="40"
            height="40"
            viewBox="0 0 56 56"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M46.6669 18.6667L32.6669 6.39335C31.3835 5.24545 29.7221 4.61084 28.0002 4.61084C26.2784 4.61084 24.6169 5.24545 23.3336 6.39335L9.33355 18.6667C8.59241 19.3295 8.00099 20.1426 7.59866 21.0519C7.19632 21.9612 6.99232 22.9457 7.00022 23.94V44.3333C7.00022 46.1899 7.73772 47.9703 9.05047 49.2831C10.3632 50.5958 12.1437 51.3333 14.0002 51.3333H42.0002C43.8567 51.3333 45.6372 50.5958 46.95 49.2831C48.2627 47.9703 49.0002 46.1899 49.0002 44.3333V23.9167C49.0048 22.9263 48.7992 21.9463 48.397 21.0413C47.9948 20.1363 47.4051 19.3269 46.6669 18.6667ZM32.6669 46.6667H23.3336V35C23.3336 34.3812 23.5794 33.7877 24.017 33.3501C24.4546 32.9125 25.048 32.6667 25.6669 32.6667H30.3336C30.9524 32.6667 31.5459 32.9125 31.9835 33.3501C32.4211 33.7877 32.6669 34.3812 32.6669 35V46.6667ZM44.3336 44.3333C44.3336 44.9522 44.0877 45.5457 43.6501 45.9833C43.2126 46.4208 42.6191 46.6667 42.0002 46.6667H37.3336V35C37.3336 33.1435 36.5961 31.363 35.2833 30.0503C33.9705 28.7375 32.1901 28 30.3336 28H25.6669C23.8104 28 22.0299 28.7375 20.7171 30.0503C19.4044 31.363 18.6669 33.1435 18.6669 35V46.6667H14.0002C13.3814 46.6667 12.7879 46.4208 12.3503 45.9833C11.9127 45.5457 11.6669 44.9522 11.6669 44.3333V23.9167C11.6673 23.5854 11.7383 23.258 11.8751 22.9562C12.0119 22.6545 12.2113 22.3853 12.4602 22.1667L26.4602 9.91668C26.886 9.5426 27.4334 9.3363 28.0002 9.3363C28.567 9.3363 29.1144 9.5426 29.5402 9.91668L43.5402 22.1667C43.7891 22.3853 43.9886 22.6545 44.1254 22.9562C44.2622 23.258 44.3331 23.5854 44.3336 23.9167V44.3333Z"
              fill={activeLink.startsWith("/home") ? colorPurple : colorGray2}
            />
          </svg>
          <span className="titleLink">Accueil</span>
        </NavLink>

        <NavLink to="/employees" className="sidebarLink">
          <svg
            width="40"
            height="40"
            viewBox="0 0 56 56"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            role="img"
          >
            <path
              d="M25.1003 54.25H12.25C9.35025 54.25 7 51.8997 7 49V34.4208C7 31.8833 8.81475 29.7098 11.3102 29.2565C15.0097 28.5828 21.3885 27.4225 24.997 26.768C26.9832 26.4057 29.0168 26.4057 31.003 26.768C34.6115 27.4225 40.9903 28.5828 44.6898 29.2565C47.1853 29.7098 49 31.8833 49 34.4208C49 38.2375 49 44.9155 49 49C49 51.8997 46.6497 54.25 43.75 54.25H25.1003ZM41.699 32.27L41.706 32.2788C42.0123 32.7373 42.084 33.313 41.9002 33.8327L40.6647 37.3327C40.5037 37.7895 40.159 38.1605 39.7145 38.3548L37.3905 39.368L38.3145 41.2177C38.5735 41.734 38.5595 42.3447 38.2795 42.8505L33.8905 50.75H43.75C44.716 50.75 45.5 49.966 45.5 49C45.5 44.9155 45.5 38.2375 45.5 34.4208C45.5 33.5755 44.8945 32.851 44.0633 32.6987L41.699 32.27ZM36.9128 31.3985L30.3765 30.2103C28.805 29.925 27.195 29.925 25.6235 30.2103L19.0872 31.3985L17.6908 33.4933L18.382 35.4498L21.7 36.8952C22.1393 37.0877 22.4805 37.4517 22.645 37.9032C22.8095 38.3547 22.7797 38.8535 22.5645 39.2823L21.2275 41.9563L26.1135 50.75H29.8865L34.7725 41.9563L33.4355 39.2823C33.2203 38.8535 33.1905 38.3547 33.355 37.9032C33.5195 37.4517 33.8607 37.0877 34.3 36.8952L37.618 35.4498L38.3093 33.4933L36.9128 31.3985ZM14.301 32.27L11.9367 32.6987C11.1055 32.851 10.5 33.5755 10.5 34.4208V49C10.5 49.966 11.284 50.75 12.25 50.75H22.1095L17.7205 42.8505C17.4405 42.3447 17.4265 41.734 17.6855 41.2177L18.6095 39.368L16.2855 38.3548C15.841 38.1605 15.4963 37.7895 15.3353 37.3327L14.0997 33.8327C13.916 33.313 13.9877 32.7373 14.294 32.2788L14.301 32.27ZM40.25 42V45.5C40.25 46.466 41.034 47.25 42 47.25C42.966 47.25 43.75 46.466 43.75 45.5V42C43.75 41.034 42.966 40.25 42 40.25C41.034 40.25 40.25 41.034 40.25 42ZM28 1.75C21.7227 1.75 16.625 6.84775 16.625 13.125C16.625 19.4023 21.7227 24.5 28 24.5C34.2773 24.5 39.375 19.4023 39.375 13.125C39.375 6.84775 34.2773 1.75 28 1.75ZM28 5.25C32.347 5.25 35.875 8.778 35.875 13.125C35.875 17.472 32.347 21 28 21C23.653 21 20.125 17.472 20.125 13.125C20.125 8.778 23.653 5.25 28 5.25Z"
              fill={
                activeLink.startsWith("/employees") ? colorPurple : colorGray2
              }
            />
          </svg>
          <span className="titleLink">Employ√©s</span>
        </NavLink>

        <NavLink to="/ranks" className="sidebarLink">
          <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.9452 33.5199L33.8663 20.5794C34.8961 19.5498 35 18.9352 35 17.4531V12.4482C35 10.9979 34.656 10.4986 33.5893 9.42974L30.5672 6.41046C29.5089 5.35241 29.0095 5 27.5613 5H22.5448C21.0601 5 20.4679 5.11105 19.4383 6.14297L6.4823 19.0726C4.51994 21.0347 4.48749 23.1197 6.4955 25.1141L14.9027 33.5091C16.9083 35.506 18.9828 35.4844 20.9452 33.5199ZM19.2736 31.5252C18.3903 32.4084 17.4756 32.4239 16.5767 31.5144L8.47975 23.432C7.57613 22.5333 7.59882 21.6055 8.46656 20.7355L21.2637 7.96229C21.5299 7.69851 21.7832 7.54129 22.2126 7.54129H27.5432C27.9378 7.54129 28.2125 7.69244 28.4705 7.95042L32.0576 11.526C32.3156 11.7864 32.456 12.061 32.456 12.4532V17.7935C32.456 18.2289 32.319 18.4845 32.06 18.7411L19.2736 31.5252ZM25.9253 15.9716C27.0017 15.9716 27.8181 15.1338 27.8181 14.0816C27.8181 13.0185 27.0017 12.1892 25.9253 12.1892C24.8404 12.1892 24.035 13.0185 24.035 14.0816C24.035 15.1338 24.8404 15.9716 25.9253 15.9716Z"
              fill={activeLink.startsWith("/ranks") ? colorPurple : colorGray2}
            />
          </svg>
          <span className="titleLink">Grades</span>
        </NavLink>

        <NavLink to="/finance" className="sidebarLink">
          <svg
            width="40"
            height="40"
            viewBox="0 0 56 56"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M50.7307 30.5809C47.5933 29.444 44.113 29.6968 41.1702 31.2724L36.3731 33.4303C35.9855 31.221 34.2887 29.5607 32.1943 29.4969C32.182 29.4966 25.0016 29.4156 25.0016 29.4156C19.2545 27.8391 15.5202 29.8648 13.3899 31.8611C12.9542 32.2694 12.5711 32.6898 12.2339 33.1044C11.659 32.4853 10.6443 32.3199 9.90437 32.7267L3.38647 36.3095C2.54109 36.7743 2.17326 37.7939 2.52781 38.6901L8.89769 54.7928C9.31625 55.8508 10.6026 56.3184 11.6063 55.7667L18.1242 52.1839C18.7351 51.848 19.0948 51.2222 19.1146 50.5627H28.8425C30.4293 50.5627 31.9959 50.146 33.3729 49.3574C33.3729 49.3574 51.6687 38.8624 51.7719 38.7686C54.334 36.4378 54.413 31.9152 50.7307 30.5809C52.1996 31.1131 47.5933 29.444 50.7307 30.5809ZM11.6645 51.3632L6.715 38.8511L9.84574 37.1303L14.7953 49.6423L11.6645 51.3632ZM49.3237 35.8082L31.4641 46.0357C30.6671 46.4922 29.7604 46.7334 28.8422 46.7334H17.7682L14.0499 37.3338C14.3685 36.6848 14.9958 35.6079 16.0147 34.6531C18.1014 32.6977 20.8519 32.1972 24.1902 33.1658C24.3572 33.2142 24.5299 33.2397 24.7037 33.2417L32.0847 33.3248C32.2731 33.3411 32.621 33.76 32.621 34.3951C32.621 35.0489 32.2618 35.4658 32.0739 35.4658H24.8218V39.2951H32.0739C32.9723 39.2951 33.8084 38.9913 34.5043 38.4708L42.8086 34.7353C42.8526 34.7155 42.8957 34.6942 42.938 34.6711C44.9301 33.5879 47.2936 33.409 49.4221 34.1803C50.2643 34.4857 49.6559 35.471 49.3237 35.8082ZM37.7994 27.5911C30.1931 27.5911 24.0049 21.4024 24.0049 13.7955C24.0049 6.18872 30.193 0 37.7994 0C45.4059 0 51.594 6.18872 51.594 13.7955C51.594 21.4024 45.4057 27.5911 37.7994 27.5911ZM37.7994 3.8293C32.308 3.8293 27.8404 8.30009 27.8404 13.7955C27.8404 19.2909 32.3081 23.7617 37.7994 23.7617C43.291 23.7617 47.7586 19.2908 47.7586 13.7955C47.7586 8.30021 43.2909 3.8293 37.7994 3.8293Z"
              fill={
                activeLink.startsWith("/finance") ? colorPurple : colorGray2
              }
            />
            <path
              d="M38.6903 12.2349C37.1653 11.6086 37.0473 11.3395 37.0473 11.0275C37.0473 10.8283 37.1463 10.3651 38.0622 10.3651C38.9002 10.3651 39.9443 10.8355 40.6807 11.3202L41.7051 8.63508C40.9738 8.16949 40.0849 7.76947 39.2539 7.64156V5.89539H36.5226V7.81147C34.9 8.32289 33.9002 9.61998 33.9002 11.2347C33.9002 13.3732 35.611 14.3279 37.2822 14.9788C38.6173 15.5159 38.7292 15.927 38.7292 16.2703C38.7292 16.7984 38.2426 17.1395 37.4894 17.1395C36.5074 17.1395 35.3655 16.5731 34.5661 15.9533L33.5804 18.6815C34.3956 19.3135 35.3392 19.7306 36.4009 19.8863V21.6956H39.1492V19.7261C40.8225 19.1932 41.8935 17.807 41.8935 16.1495C41.8935 13.8293 40.1817 12.8388 38.6903 12.2349Z"
              fill={
                activeLink.startsWith("/finance") ? colorPurple : colorGray2
              }
            />
          </svg>
          <span className="titleLink">Finances</span>
        </NavLink>

        <NavLink to="/improvements" className="sidebarLink">
          <svg
            width="40"
            height="40"
            viewBox="0 0 56 56"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21.46 4.6665L19.9788 11.3156C19.1364 11.721 18.3312 12.1878 17.5589 12.7147L11.0602 10.6685L4.52051 21.9979L9.44694 26.5096C9.25446 27.9382 9.34165 28.6425 9.44694 29.4901L4.52051 34.0018L11.0602 45.3312L17.5589 43.285C18.3312 43.8118 19.1364 44.2787 19.9788 44.6841L21.46 51.3332H34.5394L36.0205 44.6841C36.8629 44.2787 37.6682 43.8118 38.4404 43.285L44.9391 45.3312L51.4788 34.0018L46.5524 29.4901C46.5927 28.9941 46.6658 28.4978 46.6663 27.9998C46.6682 27.4868 46.5874 26.9687 46.5524 26.5096L51.4788 21.9979L44.9391 10.6685L38.4404 12.7147C37.6682 12.1878 36.8629 11.721 36.0205 11.3156L34.5394 4.6665H21.46ZM25.2061 9.33317H30.7933L31.9463 14.5103L33.1038 14.966C34.4133 15.4788 35.6373 16.1846 36.736 17.0623L37.7113 17.8371L42.7699 16.2466L45.5635 21.0864L41.6533 24.673L41.8402 25.9035C42.0601 27.2643 42.0173 28.8303 41.8402 30.0962L41.6533 31.3267L45.5635 34.9132L42.7699 39.7531L37.7113 38.1626L36.736 38.9373C35.6373 39.815 34.4133 40.5209 33.1038 41.0337L31.9463 41.4894L30.7933 46.6665H25.2061L24.0531 41.4894L22.8955 41.0337C21.5861 40.5209 20.3621 39.815 19.2633 38.9373L18.2881 38.1626L13.2295 39.7531L10.4359 34.9132L14.346 31.3267L14.1592 30.0962C13.9313 28.708 13.9663 27.1191 14.1592 25.9035L14.346 24.673L10.4359 21.0864L13.2295 16.2466L18.2881 17.8371L19.2633 17.0623C20.3621 16.1846 21.5861 15.4788 22.8955 14.966L24.0531 14.5103L25.2061 9.33317ZM27.9997 18.6665C22.8727 18.6665 18.6663 22.8728 18.6663 27.9998C18.6663 33.1269 22.8727 37.3332 27.9997 37.3332C33.1267 37.3332 37.333 33.1269 37.333 27.9998C37.333 22.8728 33.1267 18.6665 27.9997 18.6665ZM27.9997 23.3332C30.6046 23.3332 32.6663 25.3949 32.6663 27.9998C32.6663 30.6048 30.6046 32.6665 27.9997 32.6665C25.3947 32.6665 23.333 30.6048 23.333 27.9998C23.333 25.3949 25.3947 23.3332 27.9997 23.3332Z"
              fill={
                activeLink.startsWith("/improvements")
                  ? colorPurple
                  : colorGray2
              }
            />
          </svg>
          <span className="titleLink">Am√©liorations</span>
        </NavLink>

        <NavLink to="/activities" className="sidebarLink">
          <svg
            width="40"
            height="40"
            viewBox="0 0 56 56"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M33.4365 46.6666H32.9465C31.9589 46.5686 31.0283 46.1583 30.2898 45.4953C29.5513 44.8324 29.0434 43.9512 28.8398 42.9799L22.5865 13.9999L16.1465 28.9332C15.9643 29.3506 15.664 29.7056 15.2826 29.9544C14.9011 30.2031 14.4552 30.3348 13.9998 30.3332H6.99984C6.381 30.3332 5.78751 30.0874 5.34992 29.6498C4.91234 29.2122 4.6665 28.6188 4.6665 27.9999C4.6665 27.3811 4.91234 26.7876 5.34992 26.35C5.78751 25.9124 6.381 25.6666 6.99984 25.6666H12.4598L18.3165 12.1566C18.7108 11.25 19.3827 10.492 20.2355 9.99197C21.0883 9.49192 22.0779 9.27561 23.0616 9.37424C24.0453 9.47286 24.9722 9.88133 25.7088 10.5407C26.4453 11.2002 26.9534 12.0764 27.1598 13.0433L33.4132 41.9999L39.8532 27.1132C40.0282 26.6871 40.3255 26.3224 40.7075 26.0649C41.0895 25.8075 41.5392 25.6689 41.9998 25.6666H48.9998C49.6187 25.6666 50.2122 25.9124 50.6498 26.35C51.0873 26.7876 51.3332 27.3811 51.3332 27.9999C51.3332 28.6188 51.0873 29.2122 50.6498 29.6498C50.2122 30.0874 49.6187 30.3332 48.9998 30.3332H43.5398L37.6832 43.8432C37.3255 44.6751 36.7336 45.385 35.9796 45.8863C35.2255 46.3876 34.342 46.6587 33.4365 46.6666Z"
              fill={
                activeLink.startsWith("/activities") ? colorPurple : colorGray2
              }
            />
          </svg>
          <span className="titleLink">Activit√©es</span>
        </NavLink>

        <button type="button" className="sidebarLink buttonClose">
          <img
            src={PowerOff}
            alt="d√©connexion"
            width={40}
            height={40}
            className="powerOff"
          />
          <span className="titleLink">Fermer</span>
        </button>
      </div>

      <div className="sidebarFooter">
        <p className="bold">iManagement - Gestion d'entreprise</p>
        <p className="regular">iFruit - Tous droits r√©serv√©s</p>
      </div>
    </aside>
  );
};

export default Sidebar;
